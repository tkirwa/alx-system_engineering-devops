#!/bin/bash

# Define the path to your Gunicorn executable
GUNICORN_PATH="/home/ubuntu/.local/bin/gunicorn"

# Define the number of workers you want to use
NUM_WORKERS=4

# Define the Gunicorn app module and callable
APP_MODULE="web_flask.0-hello_route:app"

# Get the current Gunicorn master PID
GUNICORN_PID=$(pgrep -f "$APP_MODULE")

# Send HUP signal to gracefully reload workers
kill -HUP $GUNICORN_PID

echo "Graceful reload of Gunicorn workers initiated."
