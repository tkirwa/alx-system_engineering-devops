#!/bin/bash

# Get the PID of the Gunicorn master process
GUNICORN_PID=$(pgrep gunicorn)

if [ -n "$GUNICORN_PID" ]; then
    echo "Reloading Gunicorn gracefully..."
    
    # Send a HUP signal to the Gunicorn master process
    kill -HUP "$GUNICORN_PID"
    
    # Wait for a moment to allow workers to finish processing requests
    sleep 5
    
    echo "Gunicorn reloaded gracefully."
else
    echo "Gunicorn is not running."
fi
